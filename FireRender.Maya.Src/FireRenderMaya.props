<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ImportGroup Label="PropertySheets" />
  <PropertyGroup Label="UserMacros" />
  <PropertyGroup />
  <ItemDefinitionGroup>
    <ClCompile>
      <AdditionalIncludeDirectories>.;..\ThirdParty\RadeonProRender SDK\Win\inc;..\ThirdParty\glew\include;..\ThirdParty\OpenCL\include;..\ThirdParty\oiio\include;..\ThirdParty\AxfPackage\AxfInclude\;..\ThirdParty\AxfPackage\include\;..\ThirdParty\json\include\;..\ThirdParty\RadeonProRender-GLTF\Win\inc\;..\FireRender.Components\cpp\;Lights\PhysicalLight\;..\FireRender.Components\cpp\ImageFilter\;..\ThirdParty\RadeonProImageProcessing\Windows\inc\</AdditionalIncludeDirectories>    <PreprocessorDefinitions>MAYA_PLUGIN;GL_INTEROP;WIN32;_WINDOWS;_USRDLL;NT_PLUGIN;_HAS_ITERATOR_DEBUGGING=0;_SECURE_SCL=0;_SECURE_SCL_THROWS=0;_SECURE_SCL_DEPRECATE=0;_CRT_SECURE_NO_DEPRECATE;__TBB_LIB_NAME=tbb.lib;REQUIRE_IOSTREAM;AW_NEW_IOSTREAMS;Bits64_;%(PreprocessorDefinitions)</PreprocessorDefinitions>
    </ClCompile>
    <Link>
      <AdditionalLibraryDirectories>..\ThirdParty\glew\lib\x64;..\ThirdParty\oiio\lib;..\ThirdParty\RadeonProRender SDK\Win\lib;..\ThirdParty\RadeonProRender-GLTF\Win\lib\;..\ThirdParty\RadeonProImageProcessing\Windows\lib\%(AdditionalLibraryDirectories)</AdditionalLibraryDirectories>
      <AdditionalDependencies>RadeonProRender64.lib;RprSupport64.lib;RprLoadStore64.lib;ProRenderGLTF.lib;RadeonImageFilters64.lib;OpenImageIO_RPR.lib;Foundation.lib;OpenMaya.lib;OpenMayaUI.lib;OpenMayaAnim.lib;OpenMayaRender.lib;Image.lib;glew.lib;glu32.lib;OpenGL32.lib;%(AdditionalDependencies)</AdditionalDependencies>
      <ProgramDatabaseFile>$(IntDir)$(TargetName).pdb</ProgramDatabaseFile>
      <DelayLoadDLLs>RadeonProRender64.dll;RprSupport64.dll</DelayLoadDLLs>
    </Link>
    <PostBuildEvent>
      <Command>echo creating dist folders
md $(SolutionDir)dist
md $(SolutionDir)dist\bin
md $(SolutionDir)dist\scripts
md $(SolutionDir)dist\plug-ins
md $(SolutionDir)dist\plug-ins\$(FR_MAYA_VERSION)
md $(SolutionDir)dist\images
md $(SolutionDir)dist\icons
md $(SolutionDir)dist\shaders
md $(SolutionDir)dist\renderDesc

XCOPY /E /Y $(ProjectDir)\scripts\* $(SolutionDir)dist\scripts\
XCOPY /E /Y $(ProjectDir)\python $(SolutionDir)dist\scripts\

COPY $(TargetPath) $(SolutionDir)dist\plug-ins\$(FR_MAYA_VERSION)\* /Y

COPY $(ProjectDir)\images\* $(SolutionDir)dist\images\ /Y

XCOPY /E /Y $(ProjectDir)\icons\* $(SolutionDir)dist\icons\
COPY $(ProjectDir)\shaders\* $(SolutionDir)dist\shaders\ /Y

COPY $(ProjectDir)\renderDesc\* $(SolutionDir)dist\renderDesc\ /Y

COPY "$(SolutionDir)ThirdParty\RadeonProRender SDK\Win\bin\*.dll" $(SolutionDir)dist\bin\ /Y
COPY "$(SolutionDir)ThirdParty\RadeonProImageProcessing\Windows\lib\RadeonImageFilters64.dll" $(SolutionDir)dist\bin\RadeonImageFilters64.dll /Y
COPY "$(SolutionDir)ThirdParty\RadeonProImageProcessing\Windows\lib\RadeonProML.dll" $(SolutionDir)dist\bin\RadeonProML.dll /Y
COPY "$(SolutionDir)ThirdParty\RadeonProImageProcessing\Windows\lib\MIOpen.dll" $(SolutionDir)dist\bin\MIOpen.dll /Y
COPY "$(SolutionDir)ThirdParty\RadeonProImageProcessing\Windows\lib\libcrypto-1_1-x64.dll" $(SolutionDir)dist\bin\libcrypto-1_1-x64.dll /Y
XCOPY /S /Y /I "$(SolutionDir)ThirdParty\RadeonProImageProcessing\models" $(SolutionDir)dist\data\models

COPY $(SolutionDir)ThirdParty\glew\bin\x64\*.dll $(SolutionDir)dist\bin\ /Y
IF EXIST "%USERPROFILE%\Documents\maya\$(FR_MAYA_VERSION)\prefs\shelves\" COPY $(ProjectDir)\Shelfs\* "%USERPROFILE%\Documents\maya\$(FR_MAYA_VERSION)\prefs\shelves\" /Y

IF EXIST "%USERPROFILE%\Documents\maya\$(FR_MAYA_VERSION)-x64\prefs\shelves" COPY $(ProjectDir)\Shelfs\* "%USERPROFILE%\Documents\maya\$(FR_MAYA_VERSION)-x64\prefs\shelves\" /Y


COPY $(SolutionDir)ThirdParty\AxfPackage\ReleaseDll\AxfDll\*.dll $(SolutionDir)dist\bin\ /Y
COPY $(SolutionDir)ThirdParty\AxfPackage\ReleaseDll\AxfDll\*.def $(SolutionDir)dist\bin\ /Y

COPY $(SolutionDir)ThirdParty\RadeonProRender-GLTF\Win\lib\ProRenderGLTF.dll $(SolutionDir)dist\bin\ /Y
if $(ConfigurationName) == Debug COPY $(SolutionDir)ThirdParty\RadeonProRender-GLTF\Win\lib\ProRenderGLTFD.dll $(SolutionDir)dist\bin\ /Y</Command>
    </PostBuildEvent>
  </ItemDefinitionGroup>
  <ItemGroup />
</Project>
